---
name: logging-sidecar
image: docker-registry.default.svc:5000/openshift/logging-sidecar:latest
args:
- /bin/bash
- -c
- /usr/local/bin/sidecar-logging.sh
env:
- name: MY_POD_NAME
  valueFrom:
    fieldRef:
      fieldPath: metadata.name
- name: CONTAINER_NAME
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: container_name
- name: GREP_PATTERN
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: grep_pattern
- name: SLEEP_TIME
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: sleep_time
- name: LOG_SERVER_URI
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: log_server_uri
- name: FEED_NAME_HEADER
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: feed_name_header
- name: SYSTEM_NAME_HEADER
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: system_name_header
- name: ENV_NAME_HEADER
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: env_name_header
- name: DEDUPE
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: dedupe
- name: GRACEFUL_EXIT_TIME
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: graceful_exit_time
- name: STARTUP_TIME
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: startup_time
- name: STARTUP_TIME
  valueFrom:
    configMapKeyRef:
      name: logging-sidecar
      key: startup_time
- name: DEBUG
  value: 'false'
resources: 
  requests: 
    cpu: 100m
    memory: 100Mi
terminationMessagePath: /dev/termination-log
